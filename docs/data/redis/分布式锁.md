# 分布式锁
> 分布式锁介绍：[👉漫画：什么是分布式锁？](https://www.itcodemonkey.com/article/3934.html)

## 使用示例
```java
/**
 * 对单个用户的访问进行加锁，可实现接口幂等性等场景示例
 * 
 * @param userId 用户ID，唯一标识
 * @return 结果
 */
public Result<?> userLock(String userId) {
	String lockKey = Redis.separatorJoin("lock:userId", userId);
	long lockTimeout = 3600L;
	long lockTimeoutStamp = DateUtils.getTimestamp() + lockTimeout;
	boolean lock = redis.lock(lockKey, lockTimeoutStamp);
	if (!lock) {
		return R.errorPrompt(StrUtil.format("用户{}未拿到锁", userId));
	}
	// 业务逻辑 ...
	redis.unlock(lockKey, lockTimeoutStamp);
	return R.success();
}
```